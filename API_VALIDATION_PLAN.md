# 753개 서비스의 API 키 획득 및 검증 테스트의 효과적인 진행 방법 (제안)

750개가 넘는 서비스에 대해 계정을 신규로 생성하고, API 키를 획득하여 검증 테스트를 진행하는 작업은 수작업으로 진행 시 막대한 공수가 들고 병목이 발생하기 쉬운 프로세스입니다.
가장 효과적으로 진행하기 위해 아래의 「단계별 분할(Phasing)」, 「프로세스 표준화 및 작업 분담」, 「테스트 자동화」를 결합한 전략을 제안합니다.

---

## 🚀 1. 우선순위 지정 및 단계별 분할 (Phasing)

모든 서비스를 한 번에 처리하는 대신, 비즈니스 가치와 수요가 높은 서비스부터 단계적으로 대응합니다.
(기존의 `YOOM_INTEGRATION_EXECUTION_PLAN.md`의 우선순위 점수를 활용합니다)

- **Phase 1: 핵심 서비스 (Top 50)**
  - Salesforce, Slack, Notion, Google Workspace, AWS, HubSpot 등 수요가 매우 높은 서비스.
  - **실행자**: 리드 엔지니어 및 담당 팀이 수동으로 신중하게 획득 및 검증 진행.
- **Phase 2: 미들 레인지 서비스 (Next 200)**
  - 수요는 중간 정도이나 사용자가 일정 수 이상 존재하는 서비스.
- **Phase 3: 롱테일 서비스 (나머지 약 500)**
  - 일본 국내 특화형이나 니치한 서비스. 우선순위를 미루거나, 사용자의 요청 기반으로 온디맨드 대응하는 방안을 검토.

## 👥 2. 계정 획득 및 API 키 발급 프로세스 표준화·분업 관리

계정 발급부터 API 키 획득까지의 과정은 시스템에 의한 완전 자동화(RPA 포함)가 어려운 경우(CAPTCHA, 전화번호 인증, 신용카드 등록 필수 등)가 많습니다.

1. **절차의 표준화(매뉴얼화)**
   - 공통된 「API 키 획득 절차 포맷」을 작성합니다.
     - 1. 계정 생성 (전용 시스템 이메일 주소 `yoom-api-dev+<service_name>@yourdomain.com`을 활용한 이메일 연동)
     - 2. 개발자 포털 로그인
     - 3. 애플리케이션 생성 / OAuth 스코프 설정
     - 4. API Key / Client ID / Client Secret 발급 및 안전한 저장
2. **보안 지향 일원화 관리 (Secret Management)**
   - 획득한 키를 로컬의 `.env`나 스프레드시트가 아닌, **AWS Secrets Manager**, **Google Secret Manager**, 혹은 **1Password (Developer 기능)** 등에 저장하는 시스템을 초기에 구축.
3. **작업의 병렬화 (크라우드 소싱·사내 분담)**
   - 단계별 매뉴얼을 바탕으로, 개발자 외의 멤버(어시스턴트, 오퍼레이터, 크라우드 워커 등)에게 작업을 위임하여 병렬 진행 (Phase 2 이후에 유효).

## 🤖 3. 검증 테스트의 자동화 플랫폼 구축

수작업으로 하는 테스트는 한계가 있으므로, 획득한 API 키를 사용하여 즉시 자동 검증을 수행하는 「테스트 하네스」를 도입합니다.

1. **일괄 검증 스크립트 작성 (`pytest` 등 활용)**
   - 각 서비스 코드(`repo/<service_name>`)에 대해, 「API와의 통신결과(/ping 또는 무작위 획득)」를 수행하는 간단한 기본 테스트를 구현.
   - `test_connection.py`와 같은 스크립트에 API 키를 전달하여 인증이 통과되는지만 먼저 확인합니다.
2. **지속적 통합 (CI) 파이프라인화**
   - GitHub Actions 등의 CI에 비밀 키를 연동시켜, 「API 키가 등록되면 자동으로 검증 테스트가 실행되고, 결과가 대시보드(또는 Markdown)에 기록되는」 시스템 구축.

## 📊 4. 진척 관리의 시각화

현재 `yoom-automation-progress.json`이나 `PROGRESS.md`가 존재하는 것처럼, 새로운 단계적 진행상황(Status) 관리를 도입합니다.

- `STATUS: KEY_REQUIRED` (키 미획득)
- `STATUS: KEY_READY` (키 획득 완료·테스트 대기 상태)
- `STATUS: TEST_PASSED` (통신 테스트 성공)
- `STATUS: TEST_FAILED` (테스트 실패·권한 부족 등)
- `STATUS: BLOCKED` (신용카드 등록 필수 혹은 기업 심사가 필요하여 획득 불가)

---

## 🎯 다음 단계 (구체적인 실행 계획)

이 방안으로 괜찮으시다면 다음의 스크립트 및 시스템 구현을 진행합니다:

1. **진척 관리 파일 준비**: `API_VALIDATION_PROGRESS.md`를 생성하여 모든 서비스의 키 획득 상태를 시각화.
2. **통신 테스트용 하네스 작성**: 등록된 자격 증명을 읽어와 대상 서비스의 `auth/me`를 호출하는 범용 테스트 스크립트 틀 만들기.
3. **키 관리 방침 결정**: AWS Secrets Manager 등을 사용할지, 우선은 로컬 `.env`에서 작게 시작할지의 정책 결정.
